{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://digitalocean.com/schemas/skill-frontmatter.json",
  "title": "SKILL.md Frontmatter Schema",
  "description": "JSON Schema for validating SKILL.md YAML frontmatter in the DO App Platform Skills repository",
  "type": "object",
  "required": ["name", "version", "description"],
  "properties": {
    "name": {
      "type": "string",
      "description": "Unique identifier for the skill",
      "pattern": "^[a-z][a-z0-9-]*$",
      "examples": ["app-platform-designer", "postgres", "deployment"]
    },
    "version": {
      "type": "string",
      "description": "Semantic version of the skill (MAJOR.MINOR.PATCH)",
      "pattern": "^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$",
      "examples": ["1.0.0", "1.2.3", "2.0.0-beta.1"]
    },
    "min_doctl_version": {
      "type": "string",
      "description": "Minimum required doctl CLI version",
      "pattern": "^[0-9]+\\.[0-9]+\\.[0-9]+$",
      "examples": ["1.82.0", "1.90.0"]
    },
    "description": {
      "type": "string",
      "description": "Brief description of what the skill does and when to use it",
      "minLength": 50,
      "maxLength": 500
    },
    "related_skills": {
      "type": "array",
      "description": "List of skill names this skill commonly works with",
      "items": {
        "type": "string",
        "pattern": "^[a-z][a-z0-9-]*$"
      },
      "uniqueItems": true,
      "examples": [["designer", "deployment", "postgres"]]
    },
    "deprecated": {
      "type": "boolean",
      "description": "Whether this skill is deprecated",
      "default": false
    },
    "deprecated_message": {
      "type": "string",
      "description": "Message explaining deprecation and migration path (required if deprecated is true)"
    },
    "sunset_date": {
      "type": "string",
      "description": "Date when deprecated skill will be removed (ISO 8601 format)",
      "format": "date",
      "examples": ["2026-06-01"]
    }
  },
  "if": {
    "properties": {
      "deprecated": { "const": true }
    },
    "required": ["deprecated"]
  },
  "then": {
    "required": ["deprecated_message"]
  },
  "additionalProperties": false
}
